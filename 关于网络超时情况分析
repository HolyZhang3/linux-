我是做移动手机银行的开发，在投产之后，客户反应经常会报“交易网络超时，请稍后在试”，但是这个报错我们自己从来都没遇到过，不知道客户为什么会报这个错。当然这个错误是我们开发人员自己定义的，问题的关键是为什么会报这个错。在查找这个错误的过程中，我遇到了很多坑，一下内容是将我找问题的过程，和解决的问题记录下来，以便以后查阅。
首先我看到报错的时候，第一时间想到的是，客户的网络是否正常（因为有很多客户自己都没注意当时使用手机银行的时候网络是否有连接），当然不是这个原因。然后我就想到会不会是第三方有一些接口超时了，导致我们报这个错误，我看了日志并没有。然后我就想到了web服务器，我们用的是nginx，我在nginx日志里面，却是看到了大量的timed out的报错信息，思考了一下，怀疑可能是nginx配置文件下面的这个只我设小了，然后我把他改大了。
proxy_connect_timeout 600; \\跟后端服务器连接的超时时间，发起握手等候响应超时时间 
proxy_read_timeout 600;\\连接成功 _等候后端服务器的响应时间_其实已经进入后端的排队中等候处理

改了之后，生产上面nginx日志里面timed out报错确实没有了，但是还是有客户投诉报错“交易网络超时，

请稍后在试”。这下我就懵逼了，因为是偶然现象。然后分析代码，查看日志都用了。最后发现有一个行内的同事

也经常会这样，我们就把他的手机借了过来，边做交易边看日志，发现报错的时候，服务器上面居然没有日志！

包括nginx上面也没有，这下明了了，原来是请求没有到我们的web服务器。然后就找网络组的同事抓包，发现电信

4g的设备有的时候数据流并没有到银行的ssl那一层，也就是说电信运营商有一部分的网络对于我们行内的网络是有

问题的。到这里终于是把这个罪魁祸首找了出来。

在查这个问题的过程中，查看了服务器的日志，nginx的日志，用到了抓包工具，耗时两周才找到原因，吐血。
